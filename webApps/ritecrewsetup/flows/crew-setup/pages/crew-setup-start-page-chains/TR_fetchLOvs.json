{
  "root": "callRestGetCrewAdminDetails",
  "description": "",
  "actions": {
    "assignVariablesCrewTypeLOVADP": {
      "module": "vb/action/builtin/assignVariablesAction",
      "parameters": {
        "$page.variables.CrewTypeLOVADP": {
          "source": {
            "data": [
              {
                "type": "PERSON"
              },
              {
                "type": "EQUIPMENT"
              },
              {
                "type": "BOTH"
              }
            ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.CrewScopeADP": {
          "source": {
            "data": [
              {
                "scope": "CUSTOMER"
              },
              {
                "scope": "CONTRACT"
              },
              {
                "scope": "PROJECT"
              }
            ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.TimeEntrymethodADP": {
          "source": {
            "data": [
              {
                "method": "ONLINE"
              },
              {
                "method": "OFFLINE"
              }
            ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.WeekDaysADP": {
          "source": {
            "data": [
              {
                "day": "Monday"
              },
              {
                "day": "Tuesday"
              },
              {
                "day": "Wednesday"
              },
              {
                "day": "Thursday"
              },
              {
                "day": "Friday"
              },
              {
                "day": "Saturday"
              },
              {
                "day": "Sunday"
              }
            ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.CrewSpecificADP": {
          "source": {
            "data": [
                {
                  "value": "YES"
                },
                {
                  "value": "NO"
                }
              ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.CrewMeasureADP": {
          "source": {
            "data": [
                {
                  "value": "TIME IN OUT"
                },
                {
                  "value": "QUANTITY"
                }
              ]
          },
          "reset": "none",
          "auto": "always"
        },
        "$page.variables.perdiemdata": {
          "source": {
            "bonusamount": "{{ $chain.results.callRestGetCrewAdminDetails.body.items[0].bonus_amount_rate }}",
            "bonusrate": "{{ $chain.results.callRestGetCrewAdminDetails.body.items[0].bonus_map_rate }}",
            "amount": "{{ $chain.results.callRestGetCrewAdminDetails.body.items[0].per_dm_amount }}",
            "rate": "{{ $chain.results.callRestGetCrewAdminDetails.body.items[0].per_dm_rate }}"
          },
          "reset": "none",
          "auto": "always"
        }
      },
      "outcomes": {
        "success": "ifAssignEnabled"
      }
    },
    "ifAssignEnabled": {
      "module": "vb/action/builtin/ifAction",
      "parameters": {
        "condition": "[[ $page.variables.AssignEnabled ]]"
      },
      "outcomes": {
        "true": "callChainTRFetchHeadersLines",
        "false": "ifSearchCrew"
      }
    },
    "callChainTRFetchHeadersLines": {
      "module": "vb/action/builtin/callChainAction",
      "parameters": {
        "id": "TR_FetchHeadersLines"
      },
      "outcomes": {
        "success": "ifSearchCrew"
      }
    },
    "ifSearchCrew": {
      "module": "vb/action/builtin/ifAction",
      "parameters": {
        "condition": "[[ $page.variables.searchCrew ]]"
      },
      "outcomes": {
        "true": "callChainTRFetchHeadersLines2"
      }
    },
    "callChainTRFetchHeadersLines2": {
      "module": "vb/action/builtin/callChainAction",
      "parameters": {
        "id": "TR_FetchHeadersLines"
      }
    },
    "callRestGetCrewAdminDetails": {
      "module": "vb/action/builtin/restAction",
      "parameters": {
        "endpoint": "TimeRite_Ords_Service/getCrewAdminDetails"
      },
      "outcomes": {
        "success": "assignVariablesCrewTypeLOVADP"
      }
    }
  }
}